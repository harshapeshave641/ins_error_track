{"version":3,"file":"browser.umd.js","sources":["../src/constants.js","../node_modules/tiny-invariant/dist/esm/tiny-invariant.js","../src/history-context.js","../src/utils.js","../src/provider.js","../src/error-boundary.js","../src/rollbar-context.js","../src/hooks/use-rollbar.js","../src/hooks/use-rollbar-config.js","../src/hooks/use-rollbar-context.js","../src/hooks/use-rollbar-person.js","../src/hooks/use-rollbar-capture-event.js"],"sourcesContent":["export const LEVEL_DEBUG = 'debug';\nexport const LEVEL_INFO = 'info';\nexport const LEVEL_WARN = 'warn';\nexport const LEVEL_ERROR = 'error';\nexport const LEVEL_CRITICAL = 'critical';\n\nexport default {\n  [LEVEL_DEBUG]: 1,\n  [LEVEL_INFO]: 2,\n  [LEVEL_WARN]: 3,\n  [LEVEL_ERROR]: 4,\n  [LEVEL_CRITICAL]: 5,\n};\n","var isProduction = process.env.NODE_ENV === 'production';\nvar prefix = 'Invariant failed';\nfunction invariant(condition, message) {\n    if (condition) {\n        return;\n    }\n    if (isProduction) {\n        throw new Error(prefix);\n    }\n    var provided = typeof message === 'function' ? message() : message;\n    var value = provided ? \"\".concat(prefix, \": \").concat(provided) : prefix;\n    throw new Error(value);\n}\n\nexport { invariant as default };\n","import Rollbar from 'rollbar';\nimport invariant from 'tiny-invariant';\n\nexport function historyContext(rollbar, { formatter, filter } = {}) {\n  invariant(\n    rollbar instanceof Rollbar,\n    'historyContext must have an instance of Rollbar',\n  );\n  invariant(\n    formatter == null || typeof formatter === 'function',\n    `formatter option must be a function, received ${typeof formatter} instead`,\n  );\n  invariant(\n    filter == null || typeof filter === 'function',\n    `filter option must be a function, received ${typeof filter} instead`,\n  );\n  // v4 of history.listen callback signature is (location, action)\n  // v5 of history.listen callback signature is ({ location, action })\n  // this implementation translates it to work for both\n  return (v4location, v4action) => {\n    let { action, location } = v4location;\n    if (v4action) {\n      action = v4action;\n      location = v4location;\n    }\n    if (filter && !filter(location, action)) {\n      return;\n    }\n    const context = formatter ? formatter(location, action) : location.pathname;\n    invariant(\n      typeof context === 'string',\n      'formatter must return a string value to set the context',\n    );\n    rollbar.configure({ payload: { context } });\n  };\n}\n","import * as constants from './constants';\n\nconst VALID_LEVELS = constants.default;\n\nexport function value(val, defaultTo, ...args) {\n  if (typeof val === 'function') {\n    return val(...args);\n  }\n  return val;\n}\n\nexport function wrapValue(val, defaultAs) {\n  return (defaultTo, ...args) =>\n    value(val, defaultAs === undefined ? defaultTo : defaultAs, ...args);\n}\n\nexport function isValidLevel(level) {\n  return (\n    VALID_LEVELS[level] >= VALID_LEVELS[constants.LEVEL_DEBUG] &&\n    VALID_LEVELS[level] <= VALID_LEVELS[constants.LEVEL_CRITICAL]\n  );\n}\n\nexport function isRollbarInstance(instance) {\n  return !!instance?.options?.accessToken;\n}\n","'use client';\n\nimport React, { Component, createContext } from 'react';\nimport PropTypes from 'prop-types';\nimport Rollbar from 'rollbar';\nimport invariant from 'tiny-invariant';\nimport { isRollbarInstance } from './utils';\n\nexport const Context = createContext();\nContext.displayName = 'Rollbar';\n\nexport const RollbarInstance = Symbol('RollbarInstance');\nexport const BaseOptions = Symbol('BaseOptions');\nexport const RollbarCtor = Symbol('RollbarCtor');\n\nexport function getRollbarFromContext(context) {\n  const { [RollbarInstance]: rollbar } = context;\n  return rollbar;\n}\n\nexport function getRollbarConstructorFromContext(context) {\n  const { [RollbarCtor]: ctor } = context;\n  return ctor;\n}\n\nexport class Provider extends Component {\n  static propTypes = {\n    Rollbar: PropTypes.func,\n    config: (props, propName, componentName) => {\n      if (!props.config && !props.instance) {\n        return new Error(\n          `One of the required props 'config' or 'instance' must be set for ${componentName}.`,\n        );\n      }\n      if (props.config) {\n        const configType = typeof props.config;\n        if (\n          configType === 'function' ||\n          (configType === 'object' && !Array.isArray(configType))\n        ) {\n          return;\n        }\n        return new Error(`${propName} must be either an Object or a Function`);\n      }\n    },\n    instance: (props, propName, componentName) => {\n      if (!props.config && !props.instance) {\n        return new Error(\n          `One of the required props 'config' or 'instance' must be set for ${componentName}.`,\n        );\n      }\n      if (props.instance && !isRollbarInstance(props.instance)) {\n        return new Error(\n          `${propName} must be a configured instance of Rollbar`,\n        );\n      }\n    },\n    children: PropTypes.node,\n  };\n\n  constructor(props) {\n    super(props);\n    const { config, Rollbar: ctor = Rollbar, instance } = this.props;\n    invariant(\n      !instance || isRollbarInstance(instance),\n      '`instance` must be a configured instance of Rollbar',\n    );\n    const options = typeof config === 'function' ? config() : config;\n    const rollbar = instance || new ctor(options);\n    // TODO: use isUncaught to filter if this is 2nd Provider added\n    // unless customer wants that\n    this.state = { rollbar, options };\n  }\n\n  // componentDidUpdate()\n\n  render() {\n    const { children, Rollbar: ctor = Rollbar } = this.props;\n    const { rollbar, options } = this.state;\n\n    return (\n      <Context.Provider\n        value={{\n          [RollbarInstance]: rollbar,\n          [BaseOptions]: options,\n          [RollbarCtor]: ctor,\n        }}\n      >\n        {children}\n      </Context.Provider>\n    );\n  }\n}\n","'use client';\n\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport invariant from 'tiny-invariant';\nimport { LEVEL_ERROR } from './constants';\nimport { Context, getRollbarFromContext } from './provider';\nimport * as utils from './utils';\n\nconst INITIAL_ERROR_STATE = { hasError: false, error: null };\n\nexport class ErrorBoundary extends Component {\n  static contextType = Context;\n\n  static propTypes = {\n    fallbackUI: PropTypes.elementType,\n    errorMessage: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    extra: PropTypes.oneOfType([PropTypes.object, PropTypes.func]),\n    level: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n    callback: PropTypes.func,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    level: LEVEL_ERROR,\n  };\n\n  constructor(props) {\n    super(props);\n    invariant(\n      utils.isValidLevel(props.level),\n      `${props.level} is not a valid level setting for Rollbar`,\n    );\n    this.state = { ...INITIAL_ERROR_STATE };\n  }\n\n  static getDerivedStateFromError(error) {\n    return { hasError: true, error };\n  }\n\n  componentDidCatch(error, info) {\n    const { errorMessage, extra, level: targetLevel, callback } = this.props;\n    const custom = utils.value(extra, {}, error, info);\n    const data = { ...info, ...custom };\n    const level = utils.value(targetLevel, LEVEL_ERROR, error, info);\n    const rollbar = getRollbarFromContext(this.context);\n    if (!errorMessage) {\n      rollbar[level](error, data, callback);\n    } else {\n      let logMessage = utils.value(errorMessage, '', error, info);\n      rollbar[level](logMessage, error, data, callback);\n    }\n  }\n\n  resetError = () => {\n    this.setState(INITIAL_ERROR_STATE);\n  };\n\n  render() {\n    const { hasError, error } = this.state;\n    const { fallbackUI: FallbackUI, children } = this.props;\n\n    if (!hasError) {\n      return children;\n    }\n\n    if (!FallbackUI) {\n      return null;\n    }\n\n    return <FallbackUI error={error} resetError={this.resetError} />;\n  }\n}\n","'use client';\n\nimport { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport { Context, getRollbarFromContext } from './provider';\n\nexport class RollbarContext extends Component {\n  static propTypes = {\n    context: PropTypes.string.isRequired,\n    onRender: PropTypes.bool,\n    children: PropTypes.node,\n  };\n\n  static defaultProps = {\n    onRender: false,\n  };\n\n  static contextType = Context;\n\n  firstRender = true;\n\n  constructor(props) {\n    super(props);\n    this.state = { previousContext: null };\n  }\n\n  changeContext = (storePrevious = true) => {\n    const rollbar = getRollbarFromContext(this.context);\n    const { context } = this.props;\n    if (storePrevious) {\n      this.setState({ previousContext: rollbar.options.payload.context });\n    }\n    rollbar.configure({ payload: { context } });\n  };\n\n  componentDidMount() {\n    const { onRender } = this.props;\n    if (!onRender) {\n      this.changeContext(true);\n    }\n  }\n\n  componentDidUpdate() {\n    const { onRender } = this.props;\n    if (!onRender) {\n      this.changeContext(false);\n    }\n  }\n\n  componentWillUnmount() {\n    const rollbar = getRollbarFromContext(this.context);\n    const { previousContext } = this.state;\n    rollbar.configure({ payload: { context: previousContext } });\n  }\n\n  render() {\n    const { onRender } = this.props;\n    if (onRender && this.firstRender) {\n      this.changeContext(true);\n    }\n    this.firstRender = false;\n    return this.props.children;\n  }\n}\n","'use client';\n\nimport { useContext } from 'react';\nimport { Context, getRollbarFromContext } from '../provider';\n\nexport function useRollbar() {\n  const context = useContext(Context);\n  return getRollbarFromContext(context);\n}\n","'use client';\n\nimport { useRollbar } from './use-rollbar';\n\nexport function useRollbarConfiguration(config) {\n  const rollbar = useRollbar();\n  rollbar.configure(config);\n}\n","'use client';\n\nimport invariant from 'tiny-invariant';\nimport { useEffect, useLayoutEffect } from 'react';\nimport { useRollbar } from './use-rollbar';\n\n// Simple version does its job\n// export function useRollbarContext(context) {\n//   useRollbarConfiguration({ payload: { context }});\n// }\n\n// Complex version will set the context when part of the tree and reset back to original context when removed\nexport function useRollbarContext(ctx = '', isLayout = false) {\n  invariant(typeof ctx === 'string', '`ctx` must be a string');\n  const rollbar = useRollbar();\n  (isLayout ? useLayoutEffect : useEffect)(() => {\n    const origCtx = rollbar.options.payload.context;\n    rollbar.configure({ payload: { context: ctx } });\n    return () => {\n      rollbar.configure({ payload: { context: origCtx } });\n    };\n  }, [ctx]);\n}\n","'use client';\n\nimport { useRollbarConfiguration } from './use-rollbar-config';\n\nexport function useRollbarPerson(person) {\n  useRollbarConfiguration({ payload: { person } });\n}\n","'use client';\n\nimport { useEffect } from 'react';\nimport invariant from 'tiny-invariant';\nimport { LEVEL_INFO } from '../constants';\nimport { useRollbar } from './use-rollbar';\nimport { isValidLevel } from '../utils';\n\nexport function useRollbarCaptureEvent(metadata, level = LEVEL_INFO) {\n  invariant(\n    isValidLevel(level),\n    `${level} is not a valid level setting for Rollbar`,\n  );\n  const rollbar = useRollbar();\n  useEffect(() => {\n    rollbar.captureEvent(metadata, level);\n  }, [metadata, level, rollbar]);\n}\n"],"names":["LEVEL_DEBUG","LEVEL_INFO","LEVEL_WARN","LEVEL_ERROR","LEVEL_CRITICAL","_defineProperty","historyContext","rollbar","_ref","arguments","length","undefined","formatter","filter","invariant","Rollbar","concat","_typeof","v4location","v4action","action","location","context","pathname","configure","payload","VALID_LEVELS","constants","value","val","defaultTo","_len","args","Array","_key","apply","isValidLevel","level","isRollbarInstance","instance","_instance$options","options","accessToken","Context","createContext","displayName","RollbarInstance","Symbol","BaseOptions","RollbarCtor","getRollbarFromContext","Provider","_Component","_inherits","props","_this","_classCallCheck","_callSuper","_this$props","config","_this$props$Rollbar","ctor","state","_createClass","key","render","_this$props2","children","_this$props2$Rollbar","_this$state","React","createElement","Component","PropTypes","func","propName","componentName","Error","configType","isArray","node","INITIAL_ERROR_STATE","hasError","error","ErrorBoundary","_assertThisInitialized","setState","utils","_objectSpread","componentDidCatch","info","errorMessage","extra","targetLevel","callback","custom","data","logMessage","FallbackUI","fallbackUI","resetError","getDerivedStateFromError","elementType","oneOfType","string","object","RollbarContext","storePrevious","previousContext","componentDidMount","onRender","changeContext","componentDidUpdate","componentWillUnmount","firstRender","isRequired","bool","useRollbar","useContext","useRollbarConfiguration","useRollbarContext","ctx","isLayout","useLayoutEffect","useEffect","origCtx","useRollbarPerson","person","useRollbarCaptureEvent","metadata","captureEvent"],"mappings":"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","x_google_ignoreList":[1]}